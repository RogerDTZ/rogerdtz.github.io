---
title: count
date: 2019-03-02 08:14:44
tags:
- 思考题
- 容斥原理

---

# 题意

对于所有长度为$N$，每个元素为$[1,m]$的整数且$1 \dots m $都出现过至少一次的序列，求不等价的序列个数

两个序列$A$和$B$等价，当且仅当对于所有$1 \le i < j \le N$，$f_A(i,j)=f_B(i,j)$

其中，$f_A(l,r)$表示$A_l \dots A_r$中最大值的下标位置。若有多个最大值，取下标最小的一个

$N,M \le 10^5$

